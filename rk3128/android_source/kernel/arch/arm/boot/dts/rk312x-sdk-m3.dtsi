/ {
	fiq-debugger {
		status = "disabled";
	};

	chosen {
		/*bootargs = "vmalloc=496M rockchip_jtag";*/
        bootargs = "noitinrd console=ttyS2,115200 root=/dev/mmcblk0p2 rw rootfs=ext4fs init=/linuxrc";
	};

	pwm_regulator1:pwm-regulator1 {
		compatible = "rockchip_pwm_regulator";
		pwms = <&pwm1 0 25000>;
		rockchip,pwm_id= <1>;
		rockchip,pwm_voltage_map= <950000 975000 1000000 1025000 1050000 1075000 1100000 1125000 1150000 1175000 1200000 1225000 1250000 1275000 1300000 1325000 1350000 1375000 1400000 1425000 1450000>;
		rockchip,pwm_voltage= <1250000>;
		rockchip,pwm_min_voltage= <950000>;
		rockchip,pwm_max_voltage= <1450000>;
		rockchip,pwm_suspend_voltage= <1250000>;
		rockchip,pwm_coefficient= <550>;
		status = "disabled";
		regulators {
			#address-cells = <1>;
			#size-cells = <0>;
			pwm_reg0: regulator@0 {
				regulator-compatible = "pwm_dcdc1";
				regulator-name= "vdd_arm";
				regulator-min-microvolt = <950000>;
				regulator-max-microvolt = <1450000>;
				regulator-always-on;
				regulator-boot-on;
			};
		};
	};

	pwm_regulator2:pwm-regulator2 {
		compatible = "rockchip_pwm_regulator";
		pwms = <&pwm2 0 25000>;
		rockchip,pwm_id= <2>;
		rockchip,pwm_voltage_map= <950000 975000 1000000 1025000 1050000 1075000 1100000 1125000 1150000 1175000 1200000 1225000 1250000 1275000 1300000 1325000 1350000 1375000 1400000 1425000 1450000>;
		rockchip,pwm_voltage= <1200000>;
		rockchip,pwm_min_voltage= <950000>;
		rockchip,pwm_max_voltage= <1450000>;
		rockchip,pwm_suspend_voltage= <1250000>;
		rockchip,pwm_coefficient= <550>;
		status = "disabled";
		regulators {
			#address-cells = <1>;
			#size-cells = <0>;
			pwm_reg1: regulator@1 {
				regulator-compatible = "pwm_dcdc2";
				regulator-name= "vdd_logic";
				regulator-min-microvolt = <950000>;
				regulator-max-microvolt = <1450000>;
				regulator-always-on;
				regulator-boot-on;
			};
		};
	};


	wireless-wlan {
		compatible = "wlan-platdata";

		/* wifi_chip_type - wifi chip define
                 * ap6210, ap6330, ap6335
                 * rtl8188eu, rtl8723bs, rtl8723bu
                 * esp8089
		*/
		wifi_chip_type = "ap6212";
		sdio_vref = <1800>; //1800mv or 3300mv
		//keep_wifi_power_on;
		//vref_ctrl_enable;
		//vref_ctrl_gpio = <&gpio1 GPIO_A3 GPIO_ACTIVE_HIGH>;
		//	power_ctrl_by_pmu;
		// 	pmu_regulator = "act_ldo3";
		// 	pmu_enable_level = <1>; //1->HIGH, 0->LOW
		/* WIFI_HOST_WAKE = GPIO3_C7 */
		WIFI,host_wake_irq = <&gpio3 GPIO_C7 GPIO_ACTIVE_HIGH>;
		/* WIFI_REG_ON 	= GPIO3_D3 */
		WIFI,poweren_gpio  = <&gpio3 GPIO_D3 GPIO_ACTIVE_HIGH>;
		//WIFI,reset_gpio  = <&gpio3 GPIO_D3 GPIO_ACTIVE_HIGH>;
		status = "okay";
	};
	wireless-bluetooth {
		compatible = "bluetooth-platdata";

		//wifi-bt-power-toggle;

		uart_rts_gpios = <&gpio0 GPIO_C1 GPIO_ACTIVE_LOW>;
		pinctrl-names = "default","rts_gpio";
		pinctrl-0 = <&uart0_rts>;
		pinctrl-1 = <&uart0_rts_gpio>;


		/* BT_HOST_WAKE = GPIO3_C6 */
		/* BT_RST 		= GPIO3_C5 */
		/* BT_WAKE 		= GPIO3_D2 */
		//BT,power_gpio = <&gpio4 GPIO_D3 GPIO_ACTIVE_HIGH>;
		BT,reset_gpio = <&gpio3 GPIO_C5 GPIO_ACTIVE_HIGH>;
		BT,wake_gpio = <&gpio3 GPIO_D2 GPIO_ACTIVE_HIGH>;
		BT,wake_host_irq = <&gpio3 GPIO_C6 GPIO_ACTIVE_LOW>;

		status = "okay";
	};
};

&nandc {
	status = "disabled"; // used nand set "okay" ,used emmc set "disabled"
};

&nandc0reg {
	status = "okay"; // used nand set "disabled" ,used emmc set "okay"
};

&emmc {
	clock-frequency = <50000000>;
	clock-freq-min-max = <400000 50000000>;
	supports-highspeed;
	supports-emmc;
	bootpart-no-access;
	supports-DDR_MODE;
	ignore-pm-notify;
	keep-power-in-suspend;
	//poll-hw-reset
	status = "okay";
};

&sdmmc {
	clock-frequency = <37500000>;
	clock-freq-min-max = <400000 37500000>;
	supports-highspeed;
	supports-sd;
	broken-cd;
	card-detect-delay = <200>;
	ignore-pm-notify;
	keep-power-in-suspend;
	vmmc-supply = <&rk818_ldo9_reg>;
	status = "disabled";
};

&sdio {
	clock-frequency = <37500000>;
	clock-freq-min-max = <200000 37500000>;
	supports-highspeed;
	supports-sdio;
	ignore-pm-notify;
	keep-power-in-suspend;
	cap-sdio-irq;
	status = "okay";
};

&uart0 {
	status = "okay";
	dma-names = "!tx", "!rx";
	pinctrl-0 = <&uart0_xfer &uart0_cts>;
};
&uart1 {
	status = "okay";
	dma-names = "!tx", "!rx";
        pinctrl-0 = <&uart1_xfer &uart1_cts>;
};

&uart2 {
        status = "okay";
        dma-names = "!tx", "!rx";
        pinctrl-0 = <&uart2_xfer>;
};
&adc {
	status = "okay";

	key: key {
		compatible = "rockchip,key";
		io-channels = <&adc 1>;

		vol-up-key {
			linux,code = <115>;
			label = "volume up";
			rockchip,adc_value = <523>;
		};

		vol-down-key {
			linux,code = <114>;
			label = "volume down";
			rockchip,adc_value = <727>;
		};

		power-key {
			gpios = <&gpio0 GPIO_A2 GPIO_ACTIVE_LOW>;
			linux,code = <116>;
			label = "power";
			gpio-key,wakeup;
		};

		menu-key {
			linux,code = <59>;
			label = "menu";
			rockchip,adc_value = <1>;
		};

		home-key {
			linux,code = <102>;
			label = "home";
			rockchip,adc_value = <318>;
		};

		back-key {
			linux,code = <158>;
			label = "back";
			rockchip,adc_value = <146>;
		};

		camera-key {
			linux,code = <212>;
			label = "camera";
			rockchip,adc_value = <450>;
		};
	};
};


&i2c0 {
	status = "okay";

	escore-codecl@3e {
			compatible = "earSmart";
			//vcc_i2c-supply = <&pm8941_lvs1>;
			//adnc,i2c-pull-up;
			reg = <0x3e>;
			adnc,reset-gpio = <&gpio1 GPIO_C0 GPIO_ACTIVE_LOW>;
			//adnc,wakeup-gpio = <&gpio5 GPIO_B0 GPIO_ACTIVE_LOW>;
			adnc,gpiob-gpio = <&gpio1 GPIO_C5 GPIO_ACTIVE_LOW>;
			adnc,power-gpio = <&gpio1 GPIO_C1 GPIO_ACTIVE_LOW>;
			adnc,enable_hs_uart_intf = <0>;
	};

	es8323: es8323@10 {
		compatible = "es8323";
		reg = <0x10>;
	//	hp-det-gpio = <0>;
	//	hp-con-gpio = <0>;
		spk-con-gpio = <&gpio0 GPIO_D6 GPIO_ACTIVE_HIGH>;

	//	zigbee-en-gpio = <&gpio0 GPIO_C2 GPIO_ACTIVE_HIGH>;
	//	zigbee-reset-gpio = <&gpio8 GPIO_B0 GPIO_ACTIVE_HIGH>;
	};
	AP3087B@44 {
		status = "okay";
		compatible = "AP3087B";
		reg = <0x44>;
		power-gpio = <&gpio1 GPIO_B7 GPIO_ACTIVE_LOW>;

    };
};


&i2c2 {
	status = "okay";


	rk818: rk818@1c {
		reg = <0x1c>;
		status = "okay";
	};
	ts@5d {
		compatible = "goodix,gt9xx";
		reg = <0x5d>;
		touch-gpio = <&gpio1 GPIO_B0 IRQ_TYPE_LEVEL_LOW>;
		reset-gpio = <&gpio0 GPIO_D1 GPIO_ACTIVE_LOW>;
		max-x = <1280>;
		max-y = <800>;
		tp-size = <89>;
	};



};

&fb {
	rockchip,disp-mode = <ONE_DUAL>;
	rockchip,uboot-logo-on = <0>;
};



/include/ "rk818.dtsi"
&rk818 {
	gpios =<&gpio1 GPIO_B3 GPIO_ACTIVE_HIGH>,<&gpio3 GPIO_C1 GPIO_ACTIVE_LOW>;	//PMIC_INT, PMIC_SLEEP
	//cpu_det_gpio = <&gpio0 GPIO_D1 GPIO_ACTIVE_HIGH>;
	//power_hold_gpio = <&gpio0 GPIO_D6 GPIO_ACTIVE_HIGH>;
	rk818,system-power-controller;
	rk818,support_dc_chg = <1>;/*1: dc chg; 0:usb chg*/

	regulators {

		rk818_dcdc1_reg: regulator@0{
			regulator-name= "vdd_arm";
			regulator-min-microvolt = <700000>;
			regulator-max-microvolt = <1500000>;
			regulator-initial-mode = <0x2>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-mode = <0x2>;
				regulator-state-disabled;
				regulator-state-uv = <900000>;
			};
		};

		rk818_dcdc2_reg: regulator@1 {
			regulator-name= "vdd_logic";
			regulator-min-microvolt = <700000>;
			regulator-max-microvolt = <1500000>;
			regulator-initial-mode = <0x2>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-mode = <0x2>;
				regulator-state-enabled;
				regulator-state-uv = <900000>;
			};
		};

		rk818_dcdc3_reg: regulator@2 {
			regulator-name= "rk818_dcdc3";
			regulator-min-microvolt = <1200000>;
			regulator-max-microvolt = <1200000>;
			regulator-initial-mode = <0x2>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-mode = <0x2>;
				regulator-state-enabled;
				regulator-state-uv = <1200000>;
			};
		};

		rk818_dcdc4_reg: regulator@3 {
			regulator-name= "vccio";
			regulator-min-microvolt = <3300000>;
			regulator-max-microvolt = <3300000>;
			regulator-initial-mode = <0x2>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-mode = <0x2>;
				regulator-state-enabled;
				regulator-state-uv = <3000000>;
			};
		};

		rk818_ldo1_reg: regulator@4 {
			regulator-name= "rk818_ldo1";
			regulator-min-microvolt = <3300000>;
			regulator-max-microvolt = <3300000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <3300000>;
			};
		};

		rk818_ldo2_reg: regulator@5 {
			regulator-name= "rk818_ldo2";
			regulator-min-microvolt = <3000000>;
			regulator-max-microvolt = <3000000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <3000000>;
			};
		};

		rk818_ldo3_reg: regulator@6 {
			regulator-name= "rk818_ldo3";
			regulator-min-microvolt = <1100000>;
			regulator-max-microvolt = <1100000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <1100000>;
			};
		};

		rk818_ldo4_reg:regulator@7 {
			regulator-name= "rk818_ldo4";
			regulator-min-microvolt = <2800000>;
			regulator-max-microvolt = <2800000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <2500000>;
			};
		};

		rk818_ldo5_reg: regulator@8 {
			regulator-name= "rk818_ldo5";
			regulator-min-microvolt = <3000000>;
			regulator-max-microvolt = <3000000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <3000000>;
			};
		};

		rk818_ldo6_reg: regulator@9 {
			regulator-name= "rk818_ldo6";
			regulator-min-microvolt = <1200000>;
			regulator-max-microvolt = <1200000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <1200000>;
			};
		};

		rk818_ldo7_reg: regulator@10 {
			regulator-name= "rk818_ldo7";
			regulator-min-microvolt = <2500000>;
			regulator-max-microvolt = <2500000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <2500000>;
			};
		};

		rk818_ldo8_reg: regulator@11 {
			regulator-name= "rk818_ldo8";
			regulator-min-microvolt = <2500000>;
			regulator-max-microvolt = <2500000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <2500000>;
			};
		};
		rk818_ldo9_reg: regulator@12 {
			regulator-name= "vcc_sd";
			regulator-min-microvolt = <1800000>;
			regulator-max-microvolt = <3000000>;
			regulator-initial-state = <3>;
			regulator-state-mem {
				regulator-state-enabled;
				regulator-state-uv = <3000000>;
			};
		};
		rk818_ldo10_reg: regulator@13 {
			regulator-name= "rk818_ldo10";
			regulator-state-mem {
				regulator-state-disabled;
			};
		};
	};
	battery {
                ocv_table = <3400 3660 3684 3708 3734 3749 3762 3771 3781 3793 3808 3829 3861 3898 3929 3959 3982 4036 4074 4121 4182>;
				//ocv_table = <3500 3677 3685 3711 3730 3770 3745 3765 3781 3796 3797 3815 3836 3907 3864 3901 3939 3979 4033 4081 4132 4185 4243 4300>;
                design_capacity = <4708>;
                design_qmax = <4808>;
                max_overcharge = <100>;
                bat_res = <100>;
                max_input_currentmA  = <1800>;
                max_chrg_currentmA = <1000>;
                max_charge_voltagemV = <4100>;
                max_bat_voltagemV = <4100>;
                sleep_enter_current = <300>;
                sleep_exit_current = <300>;
                power_off_thresd = <3600>;
                chrg_diff_voltagemV = <0>;
                virtual_power = <0>;
                support_usb_adp = <0>;
                support_dc_adp = <1>;
		//dc_det_gpio = <&gpio1 GPIO_B4 GPIO_ACTIVE_LOW>;
                power_dc2otg = <1>;
        };

};

&pwm0 {
        status = "okay";
};

